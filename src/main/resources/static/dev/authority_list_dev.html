<!DOCTYPE html>
<html lang="ko">
<head>

    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <script src="../../../webapp/WEB-INF/views/authority/base.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="../../../webapp/WEB-INF/views/authority/base.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://unpkg.com/feather-icons"></script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>No1 WMS</title>

</head>
<body>
<div class="container-fluid">
    <div class="row flex-nowrap">
        <!-- 네비게이션 쪽 -->
        <div class="col-auto col-md-2 col-xl-2 px-sm-2 px-0 navi-bg">
            <div class="d-flex flex-column align-items-center align-items-sm-start px-3 pt-2 min-vh-100">

                <ul class="nav flex-column">
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="#">
                            <div class="text-center">
                                <img  class="img-user" src="https://academy.ilwoo.org/data/file/reference/3531300541_J1gHPmC6_479f762b4825515abc781b3a616929d8949ea2c5.jpg" alt="유저 이미지">
                                <br>
                                <p class="user-name">김이박 사원</p>
                            </div>
                        </a>
                    </li>
                    <hr class="my-3">
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/account/list">
                            <i data-feather="users"></i>계정
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/password_reset">
                            <i data-feather="key"></i>비밀번호 초기화
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2 active" aria-current="page" href="/authority/list">
                            <i data-feather="user"></i>권한
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/category/list">
                            <i data-feather="user"></i>제품 카테고리
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/product/list">
                            <i data-feather="box"></i>제품
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/price/list">
                            <i data-feather="dollar-sign"></i>제품 가격
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/vender/list">
                            <i data-feather="compass"></i>거래처
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/warehouse/list">
                            <i data-feather="inbox"></i>창고
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/stock/list">
                            <i data-feather="archive"></i>재고
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/plan_in/list">
                            <i data-feather="user"></i>입고 예정
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/in/list">
                            <i data-feather="check"></i>입고
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/out/list">
                            <i data-feather="truck"></i>출고
                        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link d-flex align-items-center gap-2" href="/board/list">
                            <i data-feather="list"></i>게시판
                        </a>
                    </li>
                </ul>

                <hr class="my-3">
                <!-- 메뉴 쪽 -->
                <ul class="nav flex-column">

                </ul>

            </div>
        </div>


        <!-- body -->
        <!-- 스크립트 부분 안건들여도됨-->
        <script>

            $(function(){
                //네비게이션 관련
                const $listNavLink = $("a.nav-link");
                $listNavLink.each(function(index, element){
                    const $element =$(element);
                    $element.on("click", function(){
                        clickMenu(this);
                    })
                });
                //네비게이션 관련 끝

                //yes no 모달 관련
                const yesNoModalBootStrap = new bootstrap.Modal("#yes_no_modal");
                $("#yes_no_modal_show_button").on("click", function(){
                    yesNoModalBootStrap.show();
                });

                $("#modal_yes_button").on("click", function(){
                    yesNoModal.yesFunction();
                    yesNoModalBootStrap.hide();
                });



                //정상적으로 모달의 확인 버튼이 정의 되지 않으면 alert가 뜸
                function modalYesFuncNotDefined(){ alert("onModalYes가 정의되어 있지 않음"); }
                yesNoModal = {
                    //yesFunction 변수를 modal.정의된 함수명 으로 덮어씌워서 자기가 원하는 기능 넣기
                    yesFunction : modalYesFuncNotDefined

                }

                //yes no 모달 관련 끝
                //검색 팝업 모달 관련
                const searchModalBootStrap = new bootstrap.Modal("#search_modal");
                $("#search_modal_show_button").on("click", function(){
                    searchModalBootStrap.show();
                });

                /*
                * 검색 팝업 모달 닫는 함수
                */
                function hideSearchModal(){
                    searchModalBootStrap.hide();
                }


                //검색 팝업 모달 관련 끝


                //네비게이션 쪽 아이콘만들어 주는 함수
                feather.replace();
            });

        </script>
        <!-- 스크립트 부분 끝 -->
        <div class="col body-bg">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-12">
                        <!-- 이 안에 내용 복사해서 jsp에 붙여넣기 -->
                        <link rel="stylesheet" href="authority.css">
                        <script>
                            /*
                            yes no 모달의 확인 버튼을 누를때 재정의할 function

                            yesNoModal.yesFunction = myYesFunction;
                            function myYesFunction(){
                              alert("재정의 됨");
                            }
                            */
                            $(function() {
                                $("#div_personal_search").hide();
                                $(".nav-item button").on("click", function(obj){
                                    const selectedButtonId = $(obj.currentTarget).attr('id');
                                    if(selectedButtonId === 'home-tab'){
                                        $("#div_group_search").show();
                                        $("#div_personal_search").hide();
                                    }else{
                                        $("#div_group_search").hide();
                                        $("#div_personal_search").show();
                                    }
                                });
                            });

                            function onSearch(isPersonalSearch){
                                let jsonData = {};
                                if(isPersonalSearch){
                                    jsonData.searchOption = $("select[name='search_select'] option:selected").val();
                                    jsonData.searchValue = $("#search_personal_input").val();

                                }else{
                                    jsonData.searchValue = $("#search_group_input").val();
                                }

                                console.log(JSON.stringify(jsonData));
                            }
                        </script>
                        <div class="container-fluid">
                            <div class="row">
                                <div class="col-12">
                                    <div class="mt-5 mb-5 text-center">
                                        <h1>그룹 권한 관리</h1>
                                    </div>
                                    <div>
                                        <hr>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-12">
                                    <div class="container">
                                        <div class="row">
                                            <div class="col-4">
                                                <!-- 탭 부분 -->
                                                <ul class="nav nav-tabs" id="myTab" role="tablist">
                                                    <li class="nav-item" role="presentation">
                                                        <button class="nav-link active" id="profile-tab" data-bs-toggle="tab" data-bs-target="#personal_authority_tab" type="button" role="tab" aria-controls="profile" aria-selected="false">개인 권한</button>
                                                    </li>
                                                    <li class="nav-item" role="presentation">
                                                        <button class="nav-link" id="home-tab" data-bs-toggle="tab" data-bs-target="#group_authority_tab" type="button" role="tab" aria-controls="home" aria-selected="true">그룹 권한</button>
                                                    </li>
                                                </ul>
                                            </div>
                                            <div class="col-8">
                                                <div id="div_group_search" class="text-end">
                                                    <input id="search_group_input" type="text" class="w-60 d-inline form-control" placeholder="검색">
                                                    <button id="search_group_btn" type="button" class="btn btn-primary" onclick="onSearch(false)">검색</button>
                                                </div>
                                                <div id="div_personal_search" class="text-end">
                                                    <select name="search_select" class="form-select d-inline">
                                                        <option selected value="10">10</option>
                                                        <option value="20">20</option>
                                                        <option value="30">30</option>
                                                    </select>
                                                    <input id="search_personal_input" type="text" class="w-60 d-inline form-control" placeholder="검색">
                                                    <button id="search_personal_btn" type="button" class="btn btn-primary" onclick="onSearch(true)">검색</button>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-12">
                                                <div class="tab-content" id="myTabContent">
                                                    <div class="tab-pane fade show active" id="personal_authority_tab" role="tabpanel" aria-labelledby="personal-authority-tab">
                                                        <table class="table" >
                                                            <thead class="table-dark">
                                                            <tr><th>번호</th><th>ID</th><th>사용자 명</th><th>권한 명</th></tr>
                                                            </thead>
                                                            <tbody>
                                                            <tr><td>1</td><td>230112</td><td>김이박</td><td>사장 권한</td></tr>
                                                            <tr><td>2</td><td>230112</td><td>김이박</td><td>사장 권한</td></tr>
                                                            <tr><td>3</td><td>230112</td><td>김이박</td><td>사장 권한</td></tr>
                                                            </tbody>
                                                        </table>
                                                    </div>
                                                    <div class="tab-pane fade" id="group_authority_tab" role="tabpanel" aria-labelledby="group-authority-tab">
                                                        <table class="table" >
                                                            <thead class="table-dark">
                                                            <tr><th>번호</th><th>권한 명</th></tr>
                                                            </thead>
                                                            <tbody>
                                                            <tr><td>1</td><td>사장 권한</td></tr>
                                                            <tr><td>2</td><td>관리자 권한</td></tr>
                                                            <tr><td>3</td><td>사원 권한</td></tr>
                                                            </tbody>
                                                        </table>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                            <!-- 탭 부분 끝 -->
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


    </div>
    <!-- body 끝 -->


</div>
<!-- yes no 모달 관련 -->
<div class="modal fade" id="yes_no_modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="yesNoModalLabel">확인 취소 모달 제목</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                모달의 내용
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                <button id="modal_yes_button" type="button" class="modal_yes btn btn-primary">확인</button>
            </div>
        </div>
    </div>
</div>

<!-- yes no 모달 관련 끝 -->
<!-- 팝업 검색 모달 관련 -->
<div class="modal fade" id="search_modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered modal-xl" >
        <div class="modal-content" id="search_modal_content">
            <div class="modal-header">
                <h1 class="modal-title fs-5" id="searchModalLabel">검색 모달 제목</h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="search_modal_body">

            </div>
        </div>
    </div>
</div>
<!-- 팝업 검색 모달 관련 끝 -->
</body>
</html>